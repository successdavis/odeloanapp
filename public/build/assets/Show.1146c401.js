import{_ as y,L as k,d as g,x as f,o as d,c as i,b as e,a as m,w as b,f as _,p as h,y as S,F as w,m as F,t as n,h as p,g as l,s as P}from"./app.5c564227.js";import{A as V,h as A}from"./AvatarForm.4cf01d4f.js";import{U as N}from"./UserCards.07e95858.js";const U={components:{UserCards:N,AvatarForm:V,Link:k},props:{borrowedfunds:String,savingsbalance:String,member:Object,nextpaymentdue:String,nextpayment:String,roles:String,user_role:String},data(){return{message:""}},setup(){const a=g({position:""}),s=g({newPassword:""});return{form:a,passwordForm:s}},methods:{dateTime(a){return A(a).fromNow()},submit(){this.form.post(`/positions/${this.member.id}/appoint-position`,{preserveState:!0,preserveScroll:!0})},changePassword(a){this.passwordForm.post("/admin/"+a.id+"/update-user-password",{preserveScroll:!0,onSuccess:()=>this.message="Completed Successfully"})}}},C={class:"flex justify-center gap-6 items-center mb-4 bg-gray-900 text-white"},L=["src"],B={class:"grid"},M={class:"mt-4"},T=l("View Savings"),j=l("Fines"),D={class:"flex gap-6 items-center mt-4"},E=e("div",null,"Assign Position",-1),O=e("option",{value:""},"Select A role",-1),q=e("button",{type:"submit",class:"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2"},"Appoint Position",-1),z={key:0,class:"text-red-600 mt-4"},G={class:"mt-4"},H={class:"font-bold"},I={class:"mt-4 font-extrabold"},J=e("h3",null,"Set New Password",-1),K={class:"mb-6"},Q=e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2"},"Update Password",-1),R={key:0,class:"text-red-600"};function W(a,s,t,r,x,u){const c=f("Link"),v=f("user-cards");return d(),i(w,null,[e("div",C,[e("img",{src:t.member.avatar_path,class:"m-3 w-12 h-12 rounded-lg shadow-lg",alt:"User Avatar"},null,8,L),m(c,{href:"/members/"+t.member.id+"/profile",class:"text-2xl font-bold uppercase"},{default:b(()=>[l(n(t.member.title+" "+t.member.name)+" - "+n(t.member.account_number),1)]),_:1},8,["href"])]),e("div",B,[m(v,{member:t.member,nextpaymentdue:t.nextpaymentdue,nextpayment:t.nextpayment,borrowedfunds:t.borrowedfunds,savingsbalance:t.savingsbalance},null,8,["member","nextpaymentdue","nextpayment","borrowedfunds","savingsbalance"])]),e("div",M,[m(c,{href:"/account/"+t.member.id+"/view-account",type:"button",class:"text-white bg-green-400 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-md text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},{default:b(()=>[T]),_:1},8,["href"]),m(c,{href:"/fine/member-fine/"+t.member.id,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-md text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},{default:b(()=>[j]),_:1},8,["href"]),e("form",{onSubmit:s[1]||(s[1]=_((...o)=>u.submit&&u.submit(...o),["prevent"]))},[e("div",D,[E,h(e("select",{"onUpdate:modelValue":s[0]||(s[0]=o=>r.form.position=o),id:"countries",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-64 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[O,(d(!0),i(w,null,F(t.roles,o=>(d(),i("option",null,n(o.name),1))),256))],512),[[S,r.form.position]]),q]),r.form.errors.position?(d(),i("div",z,n(r.form.errors.position),1)):p("",!0)],32),e("div",G,[l(n(t.member.name)+" is currently an ",1),e("span",H,n(t.user_role),1)]),e("div",I,[J,e("form",{onSubmit:s[3]||(s[3]=_(o=>u.changePassword(t.member),["prevent"]))},[e("div",K,[h(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>r.passwordForm.newPassword=o),type:"password",id:"default-input",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-64 p-2.5"},null,512),[[P,r.passwordForm.newPassword]])]),Q,r.passwordForm.errors.newPassword?(d(),i("div",R,n(r.passwordForm.errors.newPassword),1)):p("",!0)],32),e("p",null,n(x.message),1)])])],64)}var $=y(U,[["render",W]]);export{$ as default};
